<Page
    x:Class="BangumiX.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:BangumiX"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:view="using:BangumiX.View"
    xmlns:Windows10version1803="http://schemas.microsoft.com/winfx/2006/xaml/presentation?IsApiContractPresent(Windows.Foundation.UniversalApiContract, 6)"
    mc:Ignorable="d"
    Background="{StaticResource MainPageBackground}">

    <Grid>
        <Grid.Resources>
            <AcrylicBrush x:Key="NavigationViewDefaultPaneBackground"
                          BackgroundSource="Backdrop"
                          TintColor="Black"
                          TintOpacity="0.7"
                          FallbackColor="Black"/>
        </Grid.Resources>
        <NavigationView x:Name="mainNavigation"
                        IsTabStop="False"
                        IsSettingsVisible="False"
                        OpenPaneLength="250"
                        Loaded="mainNavigation_Loaded"
                        Windows10version1803:IsBackEnabled="False"
                        Windows10version1803:IsBackButtonVisible="Collapsed"
                        ItemInvoked="mainNavigation_ItemInvoked">
            <NavigationView.MenuItems>
                <NavigationViewItem Content="搜索" Tag="NavToSearch">
                    <NavigationViewItem.Icon>
                        <PathIcon Data="F1 M 12.963,4.284 L 3.456,4.284 C 3.118,4.284 2.844,4.010 2.844,3.672 C 2.844,3.334 3.118,3.060 3.456,3.060 L 12.963,3.060 C 13.301,3.060 13.575,3.334 13.575,3.672 C 13.575,4.010 13.301,4.284 12.963,4.284 Z M 6.768,8.216 L 3.456,8.216 C 3.118,8.216 2.844,7.942 2.844,7.604 C 2.844,7.266 3.118,6.992 3.456,6.992 L 6.768,6.992 C 7.106,6.992 7.380,7.266 7.380,7.604 C 7.380,7.942 7.106,8.216 6.768,8.216 Z M 12.336,6.612 C 10.619,6.612 9.222,8.008 9.222,9.725 C 9.222,11.442 10.619,12.839 12.336,12.839 C 14.053,12.839 15.450,11.442 15.450,9.725 C 15.450,8.008 14.053,6.612 12.336,6.612 Z M 17.804,15.025 L 17.939,15.025 C 18.401,15.025 18.776,14.650 18.776,14.188 L 18.776,2.061 C 18.776,1.599 18.401,1.224 17.939,1.224 L 2.061,1.224 C 1.599,1.224 1.224,1.599 1.224,2.061 L 1.224,14.188 C 1.224,14.650 1.599,15.025 2.061,15.025 L 16.172,15.025 L 14.700,13.360 C 14.020,13.804 13.207,14.062 12.336,14.062 C 9.944,14.062 7.999,12.117 7.999,9.725 C 7.999,7.334 9.944,5.388 12.336,5.388 C 14.728,5.388 16.673,7.334 16.673,9.725 C 16.673,10.805 16.277,11.794 15.621,12.554 L 17.791,15.009 C 17.795,15.014 17.800,15.019 17.804,15.025 Z M 17.939,16.249 L 2.061,16.249 C 0.924,16.249 0.000,15.324 0.000,14.188 L 0.000,2.061 C 0.000,0.924 0.924,0.000 2.061,0.000 L 17.939,0.000 C 19.076,0.000 20.000,0.924 20.000,2.061 L 20.000,14.188 C 20.000,15.324 19.076,16.249 17.939,16.249 Z"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="在看" Tag="NavToWatching">
                    <NavigationViewItem.Icon>
                        <PathIcon Data="F1 M 8.783,4.792 L 8.783,8.107 C 8.783,8.283 8.977,8.391 9.126,8.297 L 11.776,6.640 C 11.916,6.552 11.916,6.347 11.776,6.259 L 9.126,4.602 C 8.977,4.508 8.783,4.616 8.783,4.792 Z M 1.765,1.224 C 1.650,1.224 1.556,1.318 1.556,1.433 L 1.556,12.131 C 1.556,12.246 1.650,12.340 1.765,12.340 L 18.899,12.340 C 19.015,12.340 19.108,12.246 19.108,12.131 L 19.108,1.433 C 19.108,1.318 19.015,1.224 18.899,1.224 L 1.765,1.224 Z M 18.567,13.563 L 1.433,13.563 C 0.643,13.563 0.000,12.920 0.000,12.131 L 0.000,1.433 C 0.000,0.643 0.643,0.000 1.433,0.000 L 18.567,0.000 C 19.357,0.000 20.000,0.643 20.000,1.433 L 20.000,12.131 C 20.000,12.920 19.357,13.563 18.567,13.563 Z M 14.963,16.024 L 5.037,16.024 C 4.699,16.024 4.425,15.750 4.425,15.412 C 4.425,15.074 4.699,14.800 5.037,14.800 L 14.963,14.800 C 15.301,14.800 15.575,15.074 15.575,15.412 C 15.575,15.750 15.301,16.024 14.963,16.024 Z"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="每日" Tag="NavToDaily">
                    <NavigationViewItem.Icon>
                        <PathIcon/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Content="我的" Tag="NavToMine">
                    <NavigationViewItem.Icon>
                        <PathIcon/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>
            <NavigationView.PaneFooter>
                <StackPanel>
                    <StackPanel.Resources>
                        <Style TargetType="Button">
                            <Setter Property="Width" Value="250"/>
                            <Setter Property="Margin" Value="-16 0 0 0"/>
                            <Setter Property="Padding" Value="0"/>
                            <Setter Property="BorderThickness" Value="0"/>
                            <Setter Property="Background" Value="Transparent"/>
                        </Style>
                        <Style TargetType="Border">
                            <Setter Property="Height" Value="40"/>
                            <Setter Property="Width" Value="40"/>
                            <Setter Property="Margin" Value="0 0 8 0"/>
                        </Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="VerticalAlignment" Value="Center"/>
                        </Style>
                    </StackPanel.Resources>
                    <NavigationViewItem>
                        <NavigationViewItem.Content>
                            <Button Click="userInfoBtn_Click">
                                <Button.Content>
                                    <StackPanel Orientation="Horizontal" Width="250">
                                        <Border>
                                            <Ellipse Height="20" Width="20">
                                                <Ellipse.Fill>
                                                    <ImageBrush ImageSource="{x:Bind userVM.AvatarSmall, Mode=OneWay}"/>
                                                </Ellipse.Fill>
                                            </Ellipse>
                                        </Border>
                                        <TextBlock Text="{x:Bind userVM.Nickname, Mode=OneWay}"/>
                                    </StackPanel>
                                </Button.Content>
                            </Button>
                        </NavigationViewItem.Content>
                    </NavigationViewItem>
                    <!--<NavigationViewItem>
                        <NavigationViewItem.Content>
                            <Button Click="donationBtn_Click">
                                <Button.Content>
                                    <StackPanel Orientation="Horizontal" Width="250">
                                        <Border>
                                            <Image Height="20" Width="20" Source="ms-appx:///Resources/Donation.png"/>
                                        </Border>
                                        <TextBlock Text="恰饭"/>
                                    </StackPanel>
                                </Button.Content>
                            </Button>
                        </NavigationViewItem.Content>
                    </NavigationViewItem>-->
                </StackPanel>
            </NavigationView.PaneFooter>
            <Frame x:Name="ContentFrame"/>
        </NavigationView>
        <Border Width="360" Height="32" HorizontalAlignment="Left" VerticalAlignment="Top">
            <TextBlock Text="BangumiX" VerticalAlignment="Center" Margin="10 0 0 0" FontSize="12"/>
        </Border>
    </Grid>
</Page>
